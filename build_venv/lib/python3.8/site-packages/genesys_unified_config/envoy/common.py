"""This module contains common envoy config"""
from pathlib import Path
from typing import Any, Dict, Union


# pylint: disable=E1136
def socket_address(address: str, port: Union[int, str]) -> Dict[str, Any]:
    """
    A common function returns the socket address dict

    :param address: Socket IP address
    :param port: Socket port

    :return: A dict representation of socket address
    """
    return {
        'socket_address': {
            'address': address,
            'port_value': port
        }
    }


def path_config_source(path: Path) -> Dict[str, Any]:
    """
    A common function that returns a config source that can be read from the file system.

    :param path: The file path of the config source

    :return: A dict representing the file path config source.
    """
    return {
        'resource_api_version': 'V3',
        'path_config_source': {
            'path': f'{path}'
        }
    }
